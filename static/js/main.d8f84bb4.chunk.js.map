{"version":3,"sources":["components/Searchbar.js","components/Navbar.js","hooks/useFetch.js","components/RecipeList.js","pages/home/Home.js","pages/create/Create.js","pages/search/Search.js","pages/recipe/Recipe.js","App.js","index.js"],"names":["Searchbar","useState","term","setTerm","history","useHistory","className","onSubmit","e","preventDefault","push","htmlFor","type","id","onChange","target","value","required","Navbar","to","useFetch","url","method","data","setData","isPending","setIsPending","error","setError","options","setOptions","postData","headers","body","JSON","stringify","useEffect","controller","AbortController","fetchData","fetchOptions","a","fetch","signal","res","ok","Error","statusText","json","name","console","log","abort","RecipeList","recipes","length","map","recipe","title","cookingTime","substring","Home","Create","setTitle","setMethod","setCookingTime","newIngredient","setNewIngredient","ingredients","setIngredients","ingredientInput","useRef","ref","onClick","ing","trim","includes","prevIngredients","current","focus","i","Search","queryString","useLocation","search","query","URLSearchParams","get","Recipe","useParams","App","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d8f84bb4.chunk.js","sourcesContent":["import { useState } from 'react'\nimport { useHistory } from 'react-router-dom'\n\n// styles\nimport './Searchbar.css'\n\nexport default function Searchbar() {\n    const [term, setTerm] = useState()\n    const history = useHistory()\n\n    const handleSubmit = (e) => {\n        e.preventDefault()\n\n        history.push(`/search?q=${term}`)\n    }\n\n    return (\n        <div className=\"searchbar\">\n            <form onSubmit={handleSubmit}>\n\n                <label htmlFor=\"search\">Search:</label>\n                <input\n                    type=\"text\"\n                    id=\"search\"\n                    onChange={(e) => setTerm(e.target.value)}\n                    required\n                />\n            </form>\n        </div>\n    )\n}\n","import { Link } from 'react-router-dom'\n\n// styles\nimport './Navbar.css'\n\n// components\nimport Searchbar from './Searchbar'\n\nexport default function Navbar() {\n    return (\n        <div className=\"navbar\">\n            <nav>\n                <Link to=\"/\" className=\"brand\">\n                    <h1>Cooking Ninja</h1>\n                </Link>\n\n                <Searchbar />\n                <Link to=\"/create\">Create Recipe</Link>\n            </nav>\n        </div>\n    )\n}\n","import { useState, useEffect } from \"react\"\n\nexport const useFetch = (url, method = \"GET\") => {\n  const [data, setData] = useState(null)\n  const [isPending, setIsPending] = useState(false)\n  const [error, setError] = useState(null)\n  const [options, setOptions] = useState(null)\n\n  const postData = (postData) => {\n    setOptions({\n      method:\"POST\",\n      headers: {\n        \"Content-Type\" : \"application/json\"\n      },\n      body: JSON.stringify(postData)\n    })\n  }\n\n  useEffect(() => {\n    const controller = new AbortController()\n\n    const fetchData = async (fetchOptions) => {\n      setIsPending(true)\n\n      try {\n        const res = await fetch(url, {...fetchOptions, signal: controller.signal })\n        if (!res.ok) {\n          throw new Error(res.statusText)\n        }\n        const data = await res.json()\n\n        setIsPending(false)\n        setData(data)\n        setError(null)\n      } catch (err) {\n        if (err.name === \"AbortError\") {\n          console.log(\"the fetch was aborted\")\n        } else {\n          setIsPending(false)\n          setError('Could not fetch the data')\n        }\n      }\n    }\n    if(method === \"GET\"){\n      fetchData()\n    }\n    if(method === \"POST\" && options){\n      fetchData(options)\n    }\n  \n\n    return () => {\n      controller.abort()\n    }\n\n  }, [url, options, method])\n\n  return { data, isPending, error, postData }\n}","import { Link } from 'react-router-dom'\n// styles\nimport './RecipeList.css'\n\nexport default function RecipeList({ recipes }) {\n\n    if(recipes.length === 0){\n        return <div className=\"error\">No recipes to load...</div>\n    }\n\n    return (\n        <div className=\"recipe-list\">\n            {recipes.map(recipe => (\n                <div key={recipe.id} className=\"card\">\n                    <h3>{recipe.title}</h3>\n                    <p>{recipe.cookingTime} to make</p>\n                    <div>{recipe.method.substring(0, 100)}...</div>\n                    <Link to={`/recipes/${recipe.id}`}>Cook this</Link>\n                </div>\n            ))}\n        </div>\n    )\n}\n","\nimport { useFetch } from '../../hooks/useFetch'\n\n// styles\nimport './Home.css'\n\n//components\nimport RecipeList from '../../components/RecipeList'\n\nexport default function Home() {\n    const { data, isPending, error } = useFetch('http://localhost:3000/recipes')\n    return (\n        <div className=\"home\">\n            {error && <p className=\"error\">{error}</p>}\n            {isPending && <p className=\"loading\">Loading...</p>}\n            {data && <RecipeList recipes={data} />}\n        </div>\n    )\n}\n","import { useState, useRef, useEffect } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { useFetch } from '../../hooks/useFetch'\n\n// styles\nimport './Create.css'\n\nexport default function Create() {\n    const [title, setTitle] = useState('')\n    const [method, setMethod] = useState('')\n    const [cookingTime, setCookingTime] = useState('')\n    const [newIngredient, setNewIngredient] = useState('')\n    const [ingredients, setIngredients] = useState([])\n    const ingredientInput = useRef(null)\n    const history = useHistory()\n\n    const { postData, data } = useFetch('http://localhost:3000/recipes', 'POST')\n\n    const handleSubmit = (e) => {\n        e.preventDefault()\n        postData({ title, ingredients, method, cookingTime: cookingTime + 'minutes' })\n    }\n\n    const handleAdd = (e) => {\n        e.preventDefault()\n        const ing = newIngredient.trim()\n\n        if (ing && !ingredients.includes(ing)) {\n            setIngredients(prevIngredients => [...prevIngredients, ing])\n        }\n        setNewIngredient('')\n        ingredientInput.current.focus()\n    }\n\n    // redirect user when we get data response\n    useEffect(() => {\n        if(data){\n            history.push('/')\n        }\n    }, [data, history])\n\n    return (\n        <div className=\"create\">\n            <h2 className=\"page-title\">Add a New Recipe</h2>\n\n            <form onSubmit={handleSubmit}>\n                <label>\n                    <span>Recipe title</span>\n                    <input\n                        type=\"text\"\n                        onChange={(e) => setTitle(e.target.value)}\n                        value={title}\n                        required\n                    />\n                </label>\n\n                <label>\n                    <span>Recipe ingredients:</span>\n                    <div className=\"ingredients\">\n                        <input\n                            type=\"text\"\n                            onChange={(e) => setNewIngredient(e.target.value)}\n                            value={newIngredient}\n                            ref={ingredientInput}\n                        />\n                        <button onClick={handleAdd} className=\"btn\">Add</button>\n                    </div>\n                </label>\n                <p>Current ingredients: {ingredients.map(i => <em key={i}>{i}, </em>)}</p>\n\n                <label>\n                    <span>Recipe method</span>\n                    <textarea\n                        onChange={(e) => setMethod(e.target.value)}\n                        value={method}\n                        required\n                    />\n                </label>\n                <label>\n                    <span>Cooking time (minutes)</span>\n                    <input\n                        type=\"number\"\n                        onChange={(e) => setCookingTime(e.target.value)}\n                        value={cookingTime}\n                        required\n                    />\n                </label>\n\n                <button className=\"btn\">Submit</button>\n            </form>\n        </div>\n    )\n}\n","import { useLocation } from 'react-router-dom'\nimport { useFetch } from '../../hooks/useFetch'\n\n// styles\nimport './Search.css'\n\n// components\nimport RecipeList from '../../components/RecipeList'\n\nexport default function Search() {\n    const queryString = useLocation().search\n    const queryParams = new URLSearchParams(queryString)\n    const query = queryParams.get('q')\n\n    const url = \"http://localhost:3000/recipes?q=\" + query\n    const { error, isPending, data } = useFetch(url)\n\n\n    return (\n        <div>\n            <h2 className=\"page-title\">Recipes Including \"{query}\"</h2>\n            {error && <p className=\"error\">{error}</p>}\n            {isPending && <p className=\"loading\">Loading...</p>}\n            {data && <RecipeList recipes={data} />}\n        </div>\n    )\n}","import { useParams } from 'react-router-dom'\nimport { useFetch } from '../../hooks/useFetch'\n\n// styles\nimport './Recipe.css'\n\nexport default function Recipe() {\n    const { id } = useParams()\n    const url = 'http://localhost:3000/recipes/' + id\n    const { data: recipe, isPending, error } = useFetch(url)\n\n\n    return (\n        <div className=\"recipe\">\n            {error && <p className=\"error\">{error}</p>}\n            {isPending && <p className=\"loading\">Loading...</p>}\n            {recipe && (\n                <>\n                    <h2 className=\"page-title\">{recipe.title}</h2>\n                    <p>Takes {recipe.cookingTime} to cook</p>\n                    <ul>\n                        {recipe.ingredients.map(ing => <li key={ing}>{ing}</li>)}\n                    </ul>\n                    <p className=\"method\">{recipe.method}</p>\n                </>\n            )}\n        </div>\n    )\n}","import './App.css'\n\nimport { BrowserRouter, Switch, Route } from 'react-router-dom'\n\n// page components\nimport Navbar from './components/Navbar'\nimport Home from './pages/home/Home'\nimport Create from './pages/create/Create'\nimport Search from './pages/search/Search'\nimport Recipe from './pages/recipe/Recipe'\n\n//styles\nimport './App.css'\n\nfunction App() {\n  return (\n\n    <div className=\"App\">\n      <BrowserRouter>\n\n        <Navbar></Navbar>\n\n        <Switch>\n          <Route exact path='/'>\n            <Home />\n          </Route>\n          <Route path='/create'>\n            <Create />\n          </Route>\n          <Route path='/search'>\n            <Search />\n          </Route>\n          <Route path='/recipes/:id'>\n            <Recipe />\n          </Route>\n        </Switch>\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}